<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Procedural Filter Tests</title>
  </head>
  <body>
    <div class="items">
      <p>
        This first paragraph has "Sponsored" in it, so
        <span class="container" data-expect="hidden">this text should be hidden</span>...
      </p>
    </div>
    <div class="items">
      <p data-expect="visible">
        This second paragraph does not have "S p o n s o r e d" in it, so
        <span class="container" data-expect="visible">this text should NOT hidden</span>.
      </p>
    </div>
    <div class="items">
      <p data-expect="visible">
        This third paragraph has "Sponsored" in it, but the next span
        does not have the "container" class, so
        <span class="no-container" data-expect="visible">this text should NOT be hidden</span>.
      </p>
    </div>
    <div>
      <p>
        This fourth paragraph has "Sponsored" in it, but is not in an "items"
        element, so this <span class="container" data-expect="visible">this text should NOT hidden</span>.
      </p>
    </div>
    <script>
      import("./tests.js").then(async mod => {
        mod.run([
          {
            type: "css-selector",
            arg: ".items"
          },
          {
            type: "has-text",
            arg: "Sponsored"
          },
          {
            type: "css-selector",
            arg: ".container"
          }
        ])
      })
    </script>
  </body>
</html>
